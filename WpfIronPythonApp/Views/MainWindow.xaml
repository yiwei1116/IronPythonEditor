<Window x:Class="WpfIronPythonApp.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
        Title="WPF IronPython å·¨é›†ç·¨è¼¯å™¨" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen">
    
    <DockPanel>
        <!-- é¸å–®åˆ— -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="æª”æ¡ˆ(_F)">
                <MenuItem Header="æ–°å»º(_N)" Click="NewFile_Click"/>
                <MenuItem Header="é–‹å•Ÿ(_O)..." Click="OpenFile_Click"/>
                <MenuItem Header="å„²å­˜(_S)" Click="SaveFile_Click"/>
                <MenuItem Header="å¦å­˜ç‚º(_A)..." Click="SaveAsFile_Click"/>
                <Separator/>
                <MenuItem Header="çµæŸ(_X)" Click="Exit_Click"/>
            </MenuItem>
            <MenuItem Header="è…³æœ¬(_S)">
                <MenuItem Header="åŸ·è¡Œè…³æœ¬(_R)" Click="RunScript_Click"/>
                <MenuItem Header="åœæ­¢åŸ·è¡Œ(_S)" Click="StopScript_Click"/>
                <MenuItem Header="é‡ç½®ç’°å¢ƒ(_E)" Click="ResetEnvironment_Click"/>
            </MenuItem>
            <MenuItem Header="å·¥å…·(_T)">
                <MenuItem Header="API ç®¡ç†å™¨(_A)..." Click="ApiManager_Click">
                    <MenuItem.Icon>
                        <TextBlock Text="ðŸ”§" FontSize="12"/>
                    </MenuItem.Icon>
                </MenuItem>
                <Separator/>
                <MenuItem Header="ç”Ÿæˆ API æ–‡ä»¶(_D)..." Click="GenerateApiDocs_Click">
                    <MenuItem.Icon>
                        <TextBlock Text="ðŸ“„" FontSize="12"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="é‡æ–°è¼‰å…¥ IntelliSense(_I)" Click="ReloadIntelliSense_Click">
                    <MenuItem.Icon>
                        <TextBlock Text="ðŸ”„" FontSize="12"/>
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>
        </Menu>

        <!-- å·¥å…·åˆ— -->
        <ToolBar DockPanel.Dock="Top">
            <Button Content="æ–°å»º" Click="NewFile_Click"/>
            <Button Content="é–‹å•Ÿ" Click="OpenFile_Click"/>
            <Button Content="å„²å­˜" Click="SaveFile_Click"/>
            <Separator/>
            <Button Name="RunButton" Content="åŸ·è¡Œ" Click="RunScript_Click"/>
            <Button Name="StopButton" Content="åœæ­¢" Click="StopScript_Click" IsEnabled="False"/>
            <Button Content="é‡ç½®" Click="ResetEnvironment_Click"/>
        </ToolBar>

        <!-- ç‹€æ…‹åˆ— -->
        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem>
                <TextBlock Name="StatusText" Text="å°±ç·’"/>
            </StatusBarItem>
        </StatusBar>

        <!-- ä¸»å…§å®¹å€åŸŸ -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="2*"/>
                <RowDefinition Height="5"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- ç·¨è¼¯å™¨å€åŸŸ -->
            <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="1">
                <avalonedit:TextEditor 
                    Name="PythonEditor"
                    FontFamily="Consolas" 
                    FontSize="12"
                    ShowLineNumbers="True"
                    SyntaxHighlighting="Python"
                    TextChanged="PythonEditor_TextChanged">
                    <avalonedit:TextEditor.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="AI åŠ©æ‰‹">
                                <MenuItem Header="ç²å–ç¨‹å¼ç¢¼å»ºè­°" Click="GetAISuggestion_Click">
                                    <MenuItem.Icon>
                                        <TextBlock Text="ðŸ’¡" FontSize="12"/>
                                    </MenuItem.Icon>
                                </MenuItem>
                                <MenuItem Header="å„ªåŒ–ç¨‹å¼ç¢¼" Click="OptimizeCode_Click">
                                    <MenuItem.Icon>
                                        <TextBlock Text="âš¡" FontSize="12"/>
                                    </MenuItem.Icon>
                                </MenuItem>
                                <MenuItem Header="è§£é‡‹ç¨‹å¼ç¢¼" Click="ExplainCode_Click">
                                    <MenuItem.Icon>
                                        <TextBlock Text="ðŸ“" FontSize="12"/>
                                    </MenuItem.Icon>
                                </MenuItem>
                                <MenuItem Header="ä¿®å¾©ç¨‹å¼ç¢¼" Click="FixCode_Click">
                                    <MenuItem.Icon>
                                        <TextBlock Text="ðŸ”§" FontSize="12"/>
                                    </MenuItem.Icon>
                                </MenuItem>
                            </MenuItem>
                            <Separator/>
                            <MenuItem Header="å¾©åŽŸ" Click="Undo_Click"/>
                            <MenuItem Header="é‡åš" Click="Redo_Click"/>
                            <Separator/>
                            <MenuItem Header="å‰ªä¸‹" Click="Cut_Click"/>
                            <MenuItem Header="è¤‡è£½" Click="Copy_Click"/>
                            <MenuItem Header="è²¼ä¸Š" Click="Paste_Click"/>
                            <Separator/>
                            <MenuItem Header="å…¨é¸" Click="SelectAll_Click"/>
                        </ContextMenu>
                    </avalonedit:TextEditor.ContextMenu>
                </avalonedit:TextEditor>
            </Border>

            <!-- åˆ†éš”æ¢ -->
            <GridSplitter Grid.Row="1" Height="5" HorizontalAlignment="Stretch" 
                          Background="LightGray"/>

            <!-- è¼¸å‡ºå€åŸŸ -->
            <TabControl Grid.Row="2">
                <TabItem Header="åŸ·è¡Œè¼¸å‡º">
                    <TextBox Name="OutputTextBox" 
                             FontFamily="Consolas" 
                             FontSize="11"
                             IsReadOnly="True" 
                             VerticalScrollBarVisibility="Auto"
                             TextWrapping="Wrap"/>
                </TabItem>
                <TabItem Header="éŒ¯èª¤ä¿¡æ¯">
                    <TextBox Name="ErrorTextBox" 
                             FontFamily="Consolas" 
                             FontSize="11"
                             Foreground="Red"
                             IsReadOnly="True" 
                             VerticalScrollBarVisibility="Auto"
                             TextWrapping="Wrap"/>
                </TabItem>
            </TabControl>
        </Grid>
    </DockPanel>
</Window> 